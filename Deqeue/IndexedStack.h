#pragma once

#include "Stack.h"

#include <array>


template<typename T, int max_size> class IndexedStack
{
	public:
		//================================================================================================================================================================
		IndexedStack()
		{
			elements.fill(0);
		}

		//================================================================================================================================================================
		void push(const T& data)
		{
			if(!elements[data])
			{
				stack.push(data);
				elements[data] = 1;
			}
		}

		//================================================================================================================================================================
		T pop()
		{
			return stack.pop();
		}

		//================================================================================================================================================================
		T top()
		{
			return stack.top();
		}

		//================================================================================================================================================================
		bool isEmpty()
		{
			return stack.isEmpty();
		}

	private:
		std::array<int, max_size> elements;
		Stack<T> stack;
};