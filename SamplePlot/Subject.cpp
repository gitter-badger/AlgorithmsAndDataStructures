#include "Subject.h"
#include "Algorithm.h"
#include "Observer.h"


namespace algorithm
{
	//__________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
	void Subject::registerListener(Observer* listener)
	{
		listeners.push_back(listener);
	}

	//__________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
	void Subject::notifyListenersAlgorithmFinished(Algorithm* algorithm, int nrSamples, __int64 time)
	{
		for(auto o : listeners)
			o->onAlgorithmFinished(algorithm, nrSamples, time);
	}

	//__________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________
	void Subject::notifyListenersAlgorithmStarted(Algorithm* algorithm)
	{
		for(auto o : listeners)
			o->onAlgorithmStarted(algorithm);
	}
}
